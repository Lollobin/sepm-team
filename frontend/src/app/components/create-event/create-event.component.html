<p class="h2 form-margin form-group">Create a new event</p>

<div *ngIf="error" class="alert alert-warning alert-dismissible fade show" role="alert">
    <strong>Validation Errors: </strong> {{ errorMessage }}
    <button type="button" (click)="vanishError()" class="close" data-dismiss="alert" aria-label="Close">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  

<form class="form-margin" [formGroup]="eventForm">
    <div class="form-group">
        <small for="name" class="form-label text-muted">Name</small>
        <input type="text" class="form-control" id="name" [class.is-invalid]="!this.name.valid"
            [class.is-valid]="this.name.valid" formControlName="name">
        <div *ngIf="this.name.errors" class="invalid-feedback" style="display: block">
            <div *ngIf="this.name.errors.required">Name is required!</div>
        </div>
    </div>
    <div class="row">
        <div class="form-group col-md-6">
            <small for="inputCategory" class="form-label text-muted">Category</small>
            <select id="inputCategory" class="form-control form-override" [class.is-invalid]="!this.category.valid"
                [class.is-valid]="this.category.valid" formControlName="category">
                <option hidden="true">Pick one</option>
                <option *ngFor="let category1 of categories">{{category1}}</option>
            </select>
            <div *ngIf="this.category.errors" class="invalid-feedback" style="display: block">
                <div *ngIf="this.category.errors.required">Category is required!</div>
            </div>
        </div>
        <div class="form-group col-md-6">
            <small for="inputDuration" class="form-label text-muted">Duration</small>
            <input type="range" class="form-range" min="15" max="300" step="15" value="120" id="inputDuration"
                oninput="this.nextElementSibling.value = this.value" required formControlName="duration">
            <span>{{this.secondsToHms(this.duration.value)}}</span>
        </div>
    </div>
    <div class="form-group">
        <small for="exampleFormControlTextarea1" class="form-label text-muted">Description</small>
        <textarea class="form-control" id="exampleFormControlTextarea1" rows="4"
            formControlName="description"></textarea>
    </div>
    <button type="submit" class="btn btn-primary" (click)="createEvent()" [disabled]="!eventForm.valid">Submit</button>
</form>